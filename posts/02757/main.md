---
Keywords: コマンド,ワンライナー,UNIX/Linuxサーバ,小ネタ,シェル芸,シェル芸というには短すぎる
Copyright: (C) 2017 Ryuichi Ueda
---

# ロードアベレージの記録を毎秒つけるワンライナー
小ネタですが。Ubuntuで検証。

[bash]
hoge\@hoge:~$ while sleep 1 ; do echo $(date &quot;+%Y%m%d %H%M%S&quot;) $(cat /proc/loadavg) ; done 
20140414 143624 0.00 0.01 0.05 1/133 8622
20140414 143625 0.00 0.01 0.05 1/133 8625
20140414 143626 0.00 0.01 0.05 1/133 8628
20140414 143627 0.00 0.01 0.05 1/133 8631
20140414 143628 0.00 0.01 0.05 1/133 8634
...
（Ctrl+cで止める。）
[/bash]

ファイルに溜めたきゃdoneの後ろでリダイレクト。

[bash]
hoge\@hoge:~$ while sleep 1 ; do echo $(date &quot;+%Y%m%d %H%M%S&quot;) $(cat /proc/loadavg) ;\\
 done &gt; loadavg
（Ctrl+cで止める。）
hoge\@hoge:~$ cat loadavg 
20140414 143059 0.00 0.01 0.05 1/133 8586
20140414 143100 0.00 0.01 0.05 1/133 8589
20140414 143101 0.00 0.01 0.05 1/133 8592
20140414 143102 0.00 0.01 0.05 1/133 8595
[/bash]


では。
