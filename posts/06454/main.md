---
Keywords: コマンド,CLI,Linux,Unix,USP友の会,勉強会,シェル芸,シェル芸勉強会
Copyright: (C) 2017 Ryuichi Ueda
---

# 【問題のみ】第17回ジュンク堂はシェル芸が乗っ取った勉強会
<h2>ルール</h2>

<ul>
	<li>ワンライナーで出されたお題を解きます。</li>
	<li>汎用的な解を考えるのは出された問題をとりあえず解いてから。</li>
	<li>特にどの環境とは指定しないので各自環境に合わせて読み替えを。ただし今回、AWKだけはGNU Awk 4.0.1を使っていると明記しておきます。</li>
	<li>今回のテーマはAWKですが、何で解いても構いません。別にPowerShellだろうがRubyだろうが構いません。ワンライナーじゃないけどエクセル方眼紙でも。</li>
</ul>



<h2>環境</h2>
今回はLinuxで解答例を作りましたので、BSDやMacな方は以下の表をご参考に・・・。

<table>
 <tr>
 <th>Mac,BSD系</th>
 <th>Linux</th>
 </tr>
 <tr>
 <td>gdate</td>
 <td>date</td>
 </tr>
 <tr>
 <td>gsed</td>
 <td>sed</td>
 </tr>
 <tr>
 <td>tail -r</td>
 <td>tac</td>
 </tr>
 <tr>
 <td>gtr</td>
 <td>tr</td>
 </tr>
 <tr>
 <td>gfold</td>
 <td>fold</td>
 </tr>
</table>

<h2>Q1</h2>

次のようなデータを

```bash
$ cat data1
a 1
b 4
a 2
a 3
b 5
```

次のように変換してみましょう。

```bash
a 1 2 3
b 4 5
```

余力のある人は次のようなJSON形式にしてみましょう。

```bash
{a:[1,2,3],b:[4,5]}
```



<h2>Q2</h2>

以下の数字のファイルから同じレコード（行）があるかないかを調べ、ある場合には何行目と何行目にあるのか出力しましょう。

```bash
$ cat data
0.5937836043 0.4644710001
0.3637036697 0.5593602512
0.5655269331 0.6793148112
0.7804610574 0.2905477797
0.3637036697 0.5593602512
```


<h2>Q3</h2>

次のJSONのデータについて、aに対応づけられた配列内の数字の合計とbに対応づけられた配列内の数字の合計を求めましょう。

```bash
$ cat data
{"a":[1,2,3],"b":[4,5]}
```


<h2>Q4</h2>

次のようなIPv6アドレスをechoした後にパイプでコマンドをつなぎ、「::」で省略されているセクションに0を補ってください。

```bash
$ echo 2001:db8::9abc
```

ただし、同じワンライナーが

```bash
::1
```

でも使えるようにしてください。


